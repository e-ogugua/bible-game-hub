"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{9630:(e,t,r)=>{r.d(t,{AuthProvider:()=>n,a:()=>o});var s=r(7437),a=r(2265);let i=(0,a.createContext)(void 0),o=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},n=e=>{let{children:t}=e,[r,o]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("bible_game_user_profile");if(e){let t=JSON.parse(e);o(t)}}catch(e){console.error("Failed to load user profile:",e)}finally{l(!1)}})()},[]);let c=async(e,t)=>{try{let r=JSON.parse(localStorage.getItem("bible_game_user_profiles")||"[]");if(r.some(t=>t.username.toLowerCase()===e.toLowerCase()))return{success:!1,error:"Username already taken"};let s={id:"user_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),username:e,email:t,xp:0,level:1,badges:[],createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};localStorage.setItem("bible_game_user_profile",JSON.stringify(s));let a=[...r,s];return localStorage.setItem("bible_game_user_profiles",JSON.stringify(a)),o(s),{success:!0}}catch(e){return{success:!1,error:"Failed to create account"}}},d=async e=>{try{let t=JSON.parse(localStorage.getItem("bible_game_user_profiles")||"[]"),r=t.find(t=>t.username.toLowerCase()===e.toLowerCase());if(!r)return{success:!1,error:"User not found"};let s={...r,lastLogin:new Date().toISOString()};localStorage.setItem("bible_game_user_profile",JSON.stringify(s));let a=t.map(e=>e.id===r.id?s:e);return localStorage.setItem("bible_game_user_profiles",JSON.stringify(a)),o(s),{success:!0}}catch(e){return{success:!1,error:"Failed to sign in"}}},h=async()=>{try{localStorage.removeItem("bible_game_user_profile"),o(null)}catch(e){console.error("Failed to sign out:",e)}},u=async e=>{if(!r)return{success:!1,error:"No user logged in"};try{let t={...r,...e,lastLogin:new Date().toISOString()};localStorage.setItem("bible_game_user_profile",JSON.stringify(t));let s=JSON.parse(localStorage.getItem("bible_game_user_profiles")||"[]").map(e=>e.id===r.id?t:e);return localStorage.setItem("bible_game_user_profiles",JSON.stringify(s)),o(t),{success:!0}}catch(e){return{success:!1,error:"Failed to update profile"}}},m=async()=>{if(r)try{["bible_game_scores","bible_game_story_progress","bible_game_daily_challenges"].forEach(e=>{let t=localStorage.getItem(e);if(t){let s=JSON.parse(t),a=Array.isArray(s)?s.filter(e=>e.userId!==r.id):s;localStorage.setItem(e,JSON.stringify(a))}});let e={...r,xp:0,level:1,badges:[],lastLogin:new Date().toISOString()};localStorage.setItem("bible_game_user_profile",JSON.stringify(e));let t=JSON.parse(localStorage.getItem("bible_game_user_profiles")||"[]").map(t=>t.id===r.id?e:t);localStorage.setItem("bible_game_user_profiles",JSON.stringify(t)),o(e)}catch(e){console.error("Failed to reset progress:",e)}};return(0,s.jsx)(i.Provider,{value:{user:r,loading:n,signUp:c,signIn:d,signOut:h,updateProfile:u,resetProgress:m},children:t})}},9854:(e,t,r)=>{r.d(t,{GameProvider:()=>n,j:()=>o});var s=r(7437),a=r(2265);let i=(0,a.createContext)(void 0),o=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useGameContext must be used within a GameProvider");return e},n=e=>{let{children:t}=e,[r,o]=(0,a.useState)({currentGame:null,score:0,currentQuestion:0,gameStarted:!1,totalQuestions:0}),n=()=>5;return(0,s.jsx)(i.Provider,{value:{gameState:r,startGame:e=>{o({currentGame:e,score:0,currentQuestion:0,gameStarted:!0,totalQuestions:n()})},resetGame:()=>{o({currentGame:null,score:0,currentQuestion:0,gameStarted:!1,totalQuestions:0})},updateScore:e=>{o(t=>({...t,score:e}))},nextQuestion:()=>{o(e=>({...e,currentQuestion:Math.min(e.currentQuestion+1,e.totalQuestions-1)}))}},children:t})}},3632:(e,t,r)=>{r.d(t,{D:()=>a});class s{getUserProfile(){try{let e=localStorage.getItem(this.STORAGE_KEYS.USER_PROFILE);return e?JSON.parse(e):null}catch(e){return null}}saveUserProfile(e){try{localStorage.setItem(this.STORAGE_KEYS.USER_PROFILE,JSON.stringify(e))}catch(e){console.error("Failed to save user profile:",e)}}updateUserProfile(e){let t=this.getUserProfile();if(!t)return null;let r={...t,...e,lastLogin:new Date().toISOString()};return this.saveUserProfile(r),r}createUserProfile(e,t){let r={id:"user_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),username:e,email:t,xp:0,level:1,badges:[],createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};return this.saveUserProfile(r),r}getGameScores(e){try{let t=localStorage.getItem(this.STORAGE_KEYS.GAME_SCORES),r=t?JSON.parse(t):[];return e?r.filter(t=>t.userId===e):r}catch(e){return[]}}saveGameScore(e){let t={...e,id:"score_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),completedAt:new Date().toISOString()};try{let r=[...this.getGameScores(),t];localStorage.setItem(this.STORAGE_KEYS.GAME_SCORES,JSON.stringify(r));let s=this.getUserProfile();if(s&&s.id===e.userId){let t=s.xp+e.xpGained,r=Math.floor(t/100)+1;this.updateUserProfile({xp:t,level:r})}}catch(e){console.error("Failed to save game score:",e)}return t}getBestScore(e,t){let r=this.getGameScores(t).filter(t=>t.gameType===e);return r.length>0?r.reduce((e,t)=>t.score>e.score?t:e):null}getStoryProgress(e,t){try{let r=localStorage.getItem(this.STORAGE_KEYS.STORY_PROGRESS);return(r?JSON.parse(r):[]).find(r=>r.userId===e&&r.character===t)||null}catch(e){return null}}saveStoryProgress(e){let t={...e,id:"progress_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),lastPlayed:new Date().toISOString()};try{let r;let s=this.getStoryProgress(e.userId,e.character);r=s?[...this.getAllStoryProgress(e.userId).filter(e=>e.id!==s.id),t]:[...this.getAllStoryProgress(e.userId),t],localStorage.setItem(this.STORAGE_KEYS.STORY_PROGRESS,JSON.stringify(r))}catch(e){console.error("Failed to save story progress:",e)}return t}getAllStoryProgress(e){try{let t=localStorage.getItem(this.STORAGE_KEYS.STORY_PROGRESS),r=t?JSON.parse(t):[];return e?r.filter(t=>t.userId===e):r}catch(e){return[]}}getDailyChallenges(e){try{let t=localStorage.getItem(this.STORAGE_KEYS.DAILY_CHALLENGES);return(t?JSON.parse(t):[]).filter(t=>t.userId===e)}catch(e){return[]}}completeDailyChallenge(e,t){let r=new Date().toISOString().split("T")[0],s="".concat(e,"_").concat(t,"_").concat(r);try{let a=[...this.getDailyChallenges(e).filter(e=>e.id!==s),{id:s,userId:e,date:r,challengeType:t,completed:!0,completedAt:new Date().toISOString(),rewardClaimed:!1}];localStorage.setItem(this.STORAGE_KEYS.DAILY_CHALLENGES,JSON.stringify(a))}catch(e){console.error("Failed to complete daily challenge:",e)}}clearAllData(){try{Object.values(this.STORAGE_KEYS).forEach(e=>{localStorage.removeItem(e)})}catch(e){console.error("Failed to clear data:",e)}}exportData(){try{var e;let t={userProfile:this.getUserProfile(),gameScores:this.getGameScores(),storyProgress:this.getAllStoryProgress(),dailyChallenges:this.getDailyChallenges((null===(e=this.getUserProfile())||void 0===e?void 0:e.id)||"")};return JSON.stringify(t,null,2)}catch(e){return console.error("Failed to export data:",e),"{}"}}importData(e){try{let t=JSON.parse(e);return t.userProfile&&this.saveUserProfile(t.userProfile),t.gameScores&&Array.isArray(t.gameScores)&&localStorage.setItem(this.STORAGE_KEYS.GAME_SCORES,JSON.stringify(t.gameScores)),t.storyProgress&&Array.isArray(t.storyProgress)&&localStorage.setItem(this.STORAGE_KEYS.STORY_PROGRESS,JSON.stringify(t.storyProgress)),t.dailyChallenges&&Array.isArray(t.dailyChallenges)&&localStorage.setItem(this.STORAGE_KEYS.DAILY_CHALLENGES,JSON.stringify(t.dailyChallenges)),!0}catch(e){return console.error("Failed to import data:",e),!1}}constructor(){this.STORAGE_KEYS={USER_PROFILE:"bible_game_user_profile",GAME_SCORES:"bible_game_scores",STORY_PROGRESS:"bible_game_story_progress",DAILY_CHALLENGES:"bible_game_daily_challenges",SETTINGS:"bible_game_settings"}}}let a=new s},2346:(e,t,r)=>{r.r(t),r.d(t,{StoryGame:()=>T});var s=r(7437),a=r(2265),i=r(4539),o=r(9338),n=r(4042),l=r(500),c=r(6540),d=r(5137),h=r(9630),u=r(9854);let m={moses:{id:"moses",name:"Moses - From Egypt to Sinai",description:"Follow Moses' journey from Egyptian prince to leader of the Israelites",chapters:[{id:1,title:"The Burning Bush",description:"You are Moses, a shepherd in the desert when you encounter a miraculous burning bush that is not consumed by fire.",bibleReference:"Exodus 3:1-22",choices:[{id:"approach_bush",text:"Approach the burning bush with curiosity and reverence",consequence:"The voice of God speaks to you, calling you to lead His people out of Egypt.",nextChapter:2,score:10,faith:5,courage:3},{id:"run_away",text:"Run away in fear from this supernatural phenomenon",consequence:"You flee from the presence of God, but the call remains in your heart.",nextChapter:2,score:5,faith:1,courage:1}]},{id:2,title:"Confronting Pharaoh",description:"You stand before Pharaoh, demanding that he let the Israelites go free.",bibleReference:"Exodus 5:1-23",choices:[{id:"demand_freedom",text:'Boldly declare "Let my people go!" with unwavering faith',consequence:"Pharaoh hardens his heart and increases the Israelites' burdens, but your faith grows stronger.",nextChapter:3,score:15,faith:7,courage:8,obedience:5},{id:"negotiate_gently",text:"Politely request better treatment for the Israelites",consequence:"Pharaoh mocks your request and the situation worsens, testing your resolve.",nextChapter:3,score:8,faith:3,courage:2,obedience:2}]},{id:3,title:"The Ten Plagues",description:"God sends plagues upon Egypt. You witness the power of God firsthand.",bibleReference:"Exodus 7-12",choices:[{id:"trust_god",text:"Trust in God's timing and continue to obey His commands",consequence:"Each plague demonstrates God's power, and eventually Pharaoh relents.",nextChapter:4,score:20,faith:10,obedience:10,courage:5},{id:"doubt_process",text:"Question why God is taking so long and consider giving up",consequence:"Your doubt causes you to miss the full revelation of God's plan.",nextChapter:4,score:12,faith:2,obedience:3,courage:1}]},{id:4,title:"Crossing the Red Sea",description:"The Israelites are trapped between Pharaoh's army and the Red Sea.",bibleReference:"Exodus 14:1-31",choices:[{id:"stand_firm",text:"Stand firm in faith and watch for God's deliverance",consequence:"God parts the Red Sea, and you lead the people to safety on dry ground.",nextChapter:5,score:25,faith:15,courage:10,obedience:8},{id:"panic_escape",text:"Panic and try to find another way to escape",consequence:"In your fear, you miss the miraculous deliverance God had planned.",nextChapter:5,score:15,faith:3,courage:2,obedience:1}]},{id:5,title:"Mount Sinai",description:"You climb Mount Sinai to receive God's commandments for His people.",bibleReference:"Exodus 19-20",choices:[{id:"receive_commandments",text:"Humbly receive the Ten Commandments and commit to teaching them",consequence:"You become the great lawgiver, establishing God's covenant with Israel.",nextChapter:null,score:30,faith:20,obedience:15,courage:8},{id:"question_calling",text:"Question if you're worthy of this great responsibility",consequence:"Though you doubt yourself, God affirms His choice and strengthens you.",nextChapter:null,score:25,faith:12,obedience:8,courage:5}]}]},david:{id:"david",name:"David - The Shepherd King",description:"Follow David's journey from shepherd boy to King of Israel",chapters:[{id:1,title:"The Anointing",description:"As the youngest son, you are chosen by God through the prophet Samuel.",bibleReference:"1 Samuel 16:1-13",choices:[{id:"accept_calling",text:"Humbly accept God's calling despite being the youngest",consequence:"God's Spirit comes upon you, preparing you for greatness.",nextChapter:2,score:10,faith:5,courage:3},{id:"doubt_yourself",text:"Doubt that God could choose someone as insignificant as you",consequence:"Your doubt delays God's plan, but His calling remains.",nextChapter:2,score:5,faith:1,courage:1}]},{id:2,title:"Facing Goliath",description:"The Philistine giant Goliath challenges the Israelite army.",bibleReference:"1 Samuel 17:1-58",choices:[{id:"face_giant",text:"Step forward in faith with just a sling and stones",consequence:"God gives you victory over the giant, making you a hero.",nextChapter:3,score:20,faith:10,courage:15},{id:"hide_fear",text:"Hide among the soldiers, letting fear overcome your faith",consequence:"The giant continues to mock Israel until someone else steps up.",nextChapter:3,score:8,faith:2,courage:1}]},{id:3,title:"King Saul's Court",description:"You serve in King Saul's court, playing music to soothe his troubled spirit.",bibleReference:"1 Samuel 18-19",choices:[{id:"serve_humbly",text:"Serve the king humbly while waiting for God's timing",consequence:"Your patience and faithfulness are rewarded with promotion.",nextChapter:4,score:15,faith:8,obedience:10},{id:"seek_power",text:"Try to advance your position through political maneuvering",consequence:"Your ambition creates enemies and complicates God's plan.",nextChapter:4,score:10,faith:3,obedience:2}]},{id:4,title:"Flight from Saul",description:"King Saul becomes jealous and seeks your life, forcing you to flee.",bibleReference:"1 Samuel 20-26",choices:[{id:"spare_saul",text:"Show mercy to Saul when you have the chance to kill him",consequence:"Your mercy demonstrates God's character and preserves your integrity.",nextChapter:5,score:25,faith:12,obedience:15,courage:8},{id:"take_revenge",text:"Take revenge when the opportunity presents itself",consequence:"Revenge corrupts your heart and delays God's blessing.",nextChapter:5,score:12,faith:2,obedience:1,courage:3}]},{id:5,title:"King of Israel",description:"After Saul's death, you become king and establish Jerusalem as the capital.",bibleReference:"2 Samuel 5-7",choices:[{id:"seek_god_first",text:"Seek God's guidance before making decisions as king",consequence:"God establishes your throne forever and blesses your reign.",nextChapter:null,score:30,faith:20,obedience:15,courage:10},{id:"rely_own_wisdom",text:"Rely on your own wisdom and military might",consequence:"While successful, you miss the deeper relationship God desires.",nextChapter:null,score:20,faith:8,obedience:5,courage:12}]}]},jesus:{id:"jesus",name:"Jesus - The Journey of Grace",description:"Walk in the footsteps of Jesus through His ministry and teachings",chapters:[{id:1,title:"The Baptism",description:"You are Jesus, beginning your public ministry with baptism by John.",bibleReference:"Matthew 3:13-17",choices:[{id:"humble_baptism",text:"Humbly submit to baptism to fulfill all righteousness",consequence:"The heavens open, and God's Spirit descends upon you like a dove.",nextChapter:2,score:10,faith:5,obedience:8},{id:"question_necessity",text:"Question whether baptism is necessary for you",consequence:"John convinces you of its importance for setting an example.",nextChapter:2,score:8,faith:3,obedience:5}]},{id:2,title:"Temptation in the Desert",description:"You face temptation from Satan during forty days in the wilderness.",bibleReference:"Matthew 4:1-11",choices:[{id:"resist_temptation",text:"Resist each temptation by quoting Scripture and trusting God",consequence:"Angels minister to you, and you emerge spiritually stronger.",nextChapter:3,score:20,faith:15,obedience:10},{id:"give_in_weakness",text:"Give in to the temptation of turning stones to bread",consequence:"You learn from your mistake but must continue the struggle.",nextChapter:3,score:10,faith:2,obedience:3}]},{id:3,title:"Calling the Disciples",description:"You call ordinary fishermen to become your disciples and follow you.",bibleReference:"Matthew 4:18-22",choices:[{id:"call_with_authority",text:'Call them with authority: "Follow me and I will make you fishers of men"',consequence:"They immediately leave their nets and follow you.",nextChapter:4,score:15,faith:8,courage:5},{id:"convince_gently",text:"Gently convince them of the importance of your mission",consequence:"They need more time to understand but eventually follow.",nextChapter:4,score:12,faith:5,courage:3}]},{id:4,title:"Sermon on the Mount",description:"You teach the crowds about the kingdom of heaven and godly living.",bibleReference:"Matthew 5-7",choices:[{id:"teach_with_love",text:"Teach with love, mercy, and wisdom, blessing the poor in spirit",consequence:"The people are amazed at your teaching and authority.",nextChapter:5,score:25,faith:12,obedience:8,courage:5},{id:"teach_with_judgment",text:"Teach with strict judgment and condemnation of sinners",consequence:"Many are offended and turn away from your message.",nextChapter:5,score:15,faith:5,obedience:3,courage:8}]},{id:5,title:"The Cross and Resurrection",description:"You face betrayal, crucifixion, and ultimately resurrection.",bibleReference:"Matthew 26-28",choices:[{id:"embrace_gods_will",text:'Embrace God\'s will, praying "Not my will, but yours be done"',consequence:"You rise from the dead, conquering sin and death forever.",nextChapter:null,score:50,faith:25,obedience:20,courage:15},{id:"resist_suffering",text:"Try to avoid the suffering and find another way",consequence:"You learn that suffering is necessary for God's redemptive plan.",nextChapter:null,score:35,faith:15,obedience:10,courage:8}]}]}};var p=r(3632),g=r(8798);class x{playAmbientMusic(e){if(this.ambientMusic&&this.ambientMusic.stop(),this.currentCharacter===e)return;this.currentCharacter=e;let t=this.getMusicForCharacter(e);this.ambientMusic=new g.Howl({src:[t],volume:.2,loop:!0,autoplay:!0}),this.ambientMusic.play()}stopAmbientMusic(){this.ambientMusic&&(this.ambientMusic.stop(),this.ambientMusic=null,this.currentCharacter=null)}playSoundEffect(e){let t=this.soundEffects[e];t&&t.play()}setVolume(e){g.Howler.volume(e)}mute(){g.Howler.mute(!0)}unmute(){g.Howler.mute(!1)}getMusicForCharacter(e){switch(e){case"moses":return"/audio/moses-ambient.mp3";case"david":return"/audio/david-ambient.mp3";case"jesus":return"/audio/jesus-ambient.mp3";default:return"/audio/default-ambient.mp3"}}constructor(){this.ambientMusic=null,this.soundEffects={},this.currentCharacter=null,this.soundEffects={choice:new g.Howl({src:["/audio/choice.mp3"],volume:.3}),victory:new g.Howl({src:["/audio/victory.mp3"],volume:.4}),verse:new g.Howl({src:["/audio/verse.mp3"],volume:.3}),button:new g.Howl({src:["/audio/button.mp3"],volume:.2})}}}let b=new x;var f=r(6777),y=r(6516),j=r(2693),S=r(2325),v=r(8159),w=r(359);let C=e=>{let{children:t,className:r=""}=e;return(0,s.jsx)("div",{className:"w-full h-64 md:h-80 ".concat(r),children:(0,s.jsxs)(f.Xz,{camera:{position:[0,0,5],fov:50},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance",stencil:!1,depth:!0},dpr:[1,2],children:[(0,s.jsx)(y.S,{pixelated:!0}),(0,s.jsx)(j.E,{}),(0,s.jsxs)(a.Suspense,{fallback:(0,s.jsx)(S.V,{center:!0,children:(0,s.jsxs)("div",{className:"text-white text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-sm",children:"Loading scene..."})]})}),children:[(0,s.jsx)(v.qA,{preset:"sunset"}),(0,s.jsx)("ambientLight",{intensity:.5}),(0,s.jsx)("directionalLight",{position:[10,10,5],intensity:1}),t,(0,s.jsx)(w.z,{enablePan:!1,enableZoom:!0,maxDistance:8,minDistance:2,maxPolarAngle:Math.PI/2,enableDamping:!0,dampingFactor:.05})]})]})})};var M=r(4264),_=r(4823),N=r(789);let F=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useMemo)(()=>{let e=new Float32Array(150);for(let t=0;t<50;t++)e[3*t]=(Math.random()-.5)*4,e[3*t+1]=3*Math.random(),e[3*t+2]=(Math.random()-.5)*4;return e},[]);return(0,M.F)(s=>{e.current&&(e.current.rotation.y=.1*Math.sin(.5*s.clock.elapsedTime),e.current.position.y=.05*Math.sin(.3*s.clock.elapsedTime)),t.current&&(t.current.scale.y=1+.3*Math.sin(3*s.clock.elapsedTime),t.current.position.y=.1*Math.sin(2*s.clock.elapsedTime),t.current.children.forEach((e,t)=>{e.scale.setScalar(1+.2*Math.sin(4*s.clock.elapsedTime+t))})),r.current&&(r.current.rotation.y=.2*s.clock.elapsedTime,r.current.children.forEach((e,t)=>{let r=e.material;r&&!Array.isArray(r)&&(e.position.y+=.01*Math.sin(2*s.clock.elapsedTime+t),r.opacity=.3+.2*Math.sin(3*s.clock.elapsedTime+t))}))}),(0,s.jsxs)("group",{children:[(0,s.jsx)(_.JO,{args:[12,12],rotation:[-Math.PI/2,0,0],position:[0,-1.2,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513",roughness:.8,metalness:.1})}),(0,s.jsxs)("group",{children:[(0,s.jsx)(_.aL,{args:[.4,8,6],position:[-2,-.8,1],children:(0,s.jsx)("meshStandardMaterial",{color:"#696969",roughness:.9})}),(0,s.jsx)(_.aL,{args:[.3,8,6],position:[1.5,-.9,-1],children:(0,s.jsx)("meshStandardMaterial",{color:"#808080",roughness:.9})}),(0,s.jsx)(_.aL,{args:[.2,8,6],position:[-1,-.95,-2],children:(0,s.jsx)("meshStandardMaterial",{color:"#696969",roughness:.9})})]}),(0,s.jsxs)("group",{ref:e,position:[0,0,0],children:[(0,s.jsx)(_.aL,{args:[.9,12,8],position:[0,.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#1B4332",roughness:.8})}),(0,s.jsx)(_.aL,{args:[.7,10,7],position:[.3,.8,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#2D5A27",roughness:.7})}),(0,s.jsx)(_.aL,{args:[.8,11,8],position:[-.2,.3,.1],children:(0,s.jsx)("meshStandardMaterial",{color:"#1B4332",roughness:.8})}),(0,s.jsx)(_.aL,{args:[.4,8,6],position:[.1,1.2,.2],children:(0,s.jsx)("meshStandardMaterial",{color:"#3A5F31",roughness:.6})}),(0,s.jsx)(_.aL,{args:[.15,6,4],position:[.6,1.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#228B22"})}),(0,s.jsx)(_.aL,{args:[.12,6,4],position:[-.5,1.3,.3],children:(0,s.jsx)("meshStandardMaterial",{color:"#32CD32"})})]}),(0,s.jsxs)("group",{ref:t,position:[0,1,0],children:[(0,s.jsx)(N.b,{speed:2,rotationIntensity:.5,floatIntensity:.5,children:(0,s.jsx)(_.aL,{args:[.4,10,8],children:(0,s.jsx)("meshStandardMaterial",{color:"#FF4500",emissive:"#FF4500",emissiveIntensity:.8,transparent:!0,opacity:.9})})}),(0,s.jsx)(N.b,{speed:1.5,rotationIntensity:.3,floatIntensity:.3,children:(0,s.jsx)(_.aL,{args:[.25,8,6],position:[.1,.2,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#FFD700",emissive:"#FFD700",emissiveIntensity:.6,transparent:!0,opacity:.8})})}),(0,s.jsx)(N.b,{speed:2.5,rotationIntensity:.4,floatIntensity:.4,children:(0,s.jsx)(_.aL,{args:[.2,9,7],position:[-.1,.1,.1],children:(0,s.jsx)("meshStandardMaterial",{color:"#FF6347",emissive:"#FF6347",emissiveIntensity:.7,transparent:!0,opacity:.85})})}),(0,s.jsx)(_.aL,{args:[.1,6,4],position:[0,.3,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#FFFFFF",emissive:"#FFFFFF",emissiveIntensity:1})})]}),(0,s.jsx)("group",{ref:r,children:Array.from({length:50}).map((e,t)=>(0,s.jsx)(_.aL,{args:[.02+.03*Math.random()],position:[i[3*t],i[3*t+1],i[3*t+2]],children:(0,s.jsx)("meshStandardMaterial",{color:"#FF6B35",emissive:"#FF6B35",emissiveIntensity:.5,transparent:!0,opacity:.6})},t))}),(0,s.jsx)("ambientLight",{intensity:.4,color:"#404040"}),(0,s.jsx)("directionalLight",{position:[5,10,5],intensity:.8,color:"#FFF8DC",castShadow:!0}),(0,s.jsx)("pointLight",{position:[0,2,0],intensity:3,color:"#FFD700",distance:8}),(0,s.jsx)("spotLight",{position:[0,8,0],"target-position":[0,0,0],angle:.6,intensity:2,color:"#FFA500",penumbra:.5}),(0,s.jsx)("directionalLight",{position:[-5,5,-5],intensity:.3,color:"#8B4513"})]})},E=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,M.F)(s=>{if(e.current&&(e.current.position.y=.1*Math.sin(.5*s.clock.elapsedTime)),t.current&&r.current){let e=s.clock.elapsedTime;t.current.position.x=-2+.5*Math.sin(.3*e),r.current.position.x=2-.5*Math.sin(.3*e)}}),(0,s.jsxs)("group",{children:[(0,s.jsx)(_.JO,{args:[20,20],rotation:[-Math.PI/2,0,0],position:[0,-2,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})}),(0,s.jsx)(_.JO,{args:[20,20],rotation:[-Math.PI/2,0,0],position:[0,0,0],ref:e,children:(0,s.jsx)("meshStandardMaterial",{color:"#1E90FF",transparent:!0,opacity:.8,roughness:0,metalness:.1})}),(0,s.jsx)(_.xu,{ref:t,args:[.5,8,10],position:[-2,2,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#1E90FF",transparent:!0,opacity:.9,roughness:0})}),(0,s.jsx)(_.xu,{ref:r,args:[.5,8,10],position:[2,2,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#1E90FF",transparent:!0,opacity:.9,roughness:0})}),(0,s.jsx)(_.JO,{args:[3,10],rotation:[-Math.PI/2,0,0],position:[0,-1.9,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#F4A460"})}),(0,s.jsx)("pointLight",{position:[0,-1,0],intensity:.5,color:"#4682B4"}),(0,s.jsx)("ambientLight",{intensity:.3}),(0,s.jsx)("pointLight",{position:[0,3,0],intensity:1,color:"#87CEEB"})]})},I=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,M.F)(s=>{if(e.current&&(e.current.rotation.y=.1*Math.sin(.5*s.clock.elapsedTime)),t.current&&(t.current.position.y=3+.1*Math.sin(2*s.clock.elapsedTime)),r.current){let e=s.clock.elapsedTime;r.current.position.x=2*Math.sin(3*e),r.current.position.y=2+.5*Math.sin(2*e),r.current.position.z=2*Math.cos(3*e)}}),(0,s.jsxs)("group",{children:[(0,s.jsx)(_.JO,{args:[15,15],rotation:[-Math.PI/2,0,0],position:[0,-.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B7355"})}),(0,s.jsxs)("group",{ref:e,position:[-3,0,0],children:[(0,s.jsx)(_.Ab,{args:[.3,.3,1.2],position:[0,.6,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})}),(0,s.jsx)(_.aL,{args:[.25],position:[0,1.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#FDBCB4"})})]}),(0,s.jsxs)("group",{ref:t,position:[3,3,0],children:[(0,s.jsx)(_.Ab,{args:[.8,.8,3],position:[0,1.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#654321"})}),(0,s.jsx)(_.aL,{args:[.5],position:[0,3.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})}),(0,s.jsx)(_.xu,{args:[1.2,.8,.1],position:[0,2,.3],children:(0,s.jsx)("meshStandardMaterial",{color:"#C0C0C0"})}),(0,s.jsx)(_.aL,{args:[.4],position:[0,3.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#696969"})})]}),(0,s.jsx)(_.aL,{ref:r,args:[.1],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B7355"})}),(0,s.jsx)("group",{position:[-2.8,1,0],children:(0,s.jsx)(_.Ab,{args:[.02,.02,.8],rotation:[0,0,Math.PI/4],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})})}),(0,s.jsx)("directionalLight",{position:[5,5,5],intensity:1}),(0,s.jsx)("ambientLight",{intensity:.4})]})},A=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)(null);return(0,M.F)(r=>{e.current&&(e.current.rotation.y=.05*Math.sin(.3*r.clock.elapsedTime)),t.current&&t.current.children.forEach((e,t)=>{e.position.z=.05*Math.sin(2*r.clock.elapsedTime+.2*t)})}),(0,s.jsxs)("group",{children:[(0,s.jsx)(_.JO,{args:[8,8],rotation:[-Math.PI/2,0,0],position:[0,-.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#D2B48C"})}),(0,s.jsxs)("group",{ref:e,position:[0,1,0],children:[(0,s.jsx)(_.xu,{args:[.2,3,.1],position:[0,1.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})}),(0,s.jsx)(_.xu,{args:[1.5,.2,.1],position:[0,2.8,0],rotation:[0,0,Math.PI/6],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})}),(0,s.jsx)(_.xu,{args:[1.2,.3,.2],position:[0,.2,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#654321"})}),(0,s.jsx)("group",{ref:t,children:Array.from({length:10},(e,t)=>(0,s.jsx)(_.Ab,{args:[.01,.01,2.5],position:[(t-4.5)*.12,1.5,.05],rotation:[0,0,Math.PI/2],children:(0,s.jsx)("meshStandardMaterial",{color:"#FFD700"})},t))}),(0,s.jsx)("group",{children:Array.from({length:3},(e,t)=>(0,s.jsx)(_.JO,{args:[.5+.3*t,.5+.3*t],position:[0,1.5,.1+.2*t],children:(0,s.jsx)("meshStandardMaterial",{color:"#87CEEB",transparent:!0,opacity:.3-.1*t})},t))})]}),(0,s.jsxs)("group",{position:[-1.5,.5,0],children:[(0,s.jsx)(_.Ab,{args:[.3,.3,1],position:[0,.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#FDBCB4"})}),(0,s.jsx)(_.aL,{args:[.2],position:[0,1.2,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})})]}),(0,s.jsx)("pointLight",{position:[0,3,2],intensity:1,color:"#FFD700"}),(0,s.jsx)("ambientLight",{intensity:.6}),(0,s.jsx)("directionalLight",{position:[2,2,1],intensity:.5})]})},O=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,M.F)(s=>{e.current&&(e.current.rotation.y=.1*Math.sin(.2*s.clock.elapsedTime)),t.current&&t.current.scale.setScalar(1+.2*Math.sin(2*s.clock.elapsedTime)),r.current&&(r.current.position.y=.05*Math.sin(.5*s.clock.elapsedTime))}),(0,s.jsxs)("group",{children:[(0,s.jsx)(_.JO,{args:[10,10],rotation:[-Math.PI/2,0,0],position:[0,-.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#D2B48C"})}),(0,s.jsxs)("group",{ref:e,position:[0,.5,0],children:[(0,s.jsx)(_.Ab,{args:[.4,.4,1.2],position:[0,.6,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#FDBCB4"})}),(0,s.jsx)(_.aL,{args:[.25],position:[0,1.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})}),(0,s.jsx)(_.xu,{args:[.8,.8,.1],position:[0,.8,.2],children:(0,s.jsx)("meshStandardMaterial",{color:"#FFFFFF"})})]}),(0,s.jsxs)("group",{ref:r,position:[2,.3,0],children:[(0,s.jsx)(_.Ab,{args:[.3,.3,.8],position:[0,.4,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#FDBCB4"})}),(0,s.jsx)(_.aL,{args:[.2],position:[0,1,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})})]}),(0,s.jsx)(_.aL,{ref:t,args:[.8],position:[1,1,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#FFD700",emissive:"#FFD700",emissiveIntensity:.8,transparent:!0,opacity:.6})}),(0,s.jsx)("group",{position:[1,1,0],children:Array.from({length:5},(e,t)=>(0,s.jsx)(_.aL,{args:[.1],position:[1.5*Math.sin(t*Math.PI*.4),1.5*Math.cos(t*Math.PI*.4),0],children:(0,s.jsx)("meshStandardMaterial",{color:"#FFA500",emissive:"#FFA500",emissiveIntensity:.5})},t))}),(0,s.jsx)("pointLight",{position:[1,3,1],intensity:2,color:"#FFD700"}),(0,s.jsx)("spotLight",{position:[0,4,0],"target-position":[1,1,0],angle:.4,intensity:1.5,color:"#FFFACD"}),(0,s.jsx)("ambientLight",{intensity:.5})]})},G=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,M.F)(s=>{e.current&&(e.current.rotation.y=.2*s.clock.elapsedTime,e.current.children.forEach((e,t)=>{e.scale.y=1+.3*Math.sin(2*s.clock.elapsedTime+t)})),t.current&&(t.current.rotation.z=.1*Math.sin(.5*s.clock.elapsedTime)),r.current&&(r.current.position.x=-2+.5*Math.sin(.3*s.clock.elapsedTime))}),(0,s.jsxs)("group",{children:[(0,s.jsx)(_.JO,{args:[12,12],rotation:[-Math.PI/2,0,0],position:[0,-.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#90EE90"})}),(0,s.jsx)(_.aL,{ref:r,args:[.8],position:[-2,.4,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#696969"})}),(0,s.jsxs)("group",{ref:t,position:[0,2,-1],children:[(0,s.jsx)(_.xu,{args:[.2,3,.2],position:[0,1.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})}),(0,s.jsx)(_.xu,{args:[1.5,.2,.2],position:[0,2.5,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#8B4513"})})]}),(0,s.jsx)("group",{ref:e,position:[0,2,0],children:Array.from({length:8},(e,t)=>(0,s.jsx)(_.xu,{args:[.1,4,.1],position:[3*Math.sin(t/8*Math.PI*2),2,3*Math.cos(t/8*Math.PI*2)],rotation:[0,t/8*Math.PI*2,Math.PI/2],children:(0,s.jsx)("meshStandardMaterial",{color:"#FFD700",emissive:"#FFD700",emissiveIntensity:.8,transparent:!0,opacity:.7})},t))}),(0,s.jsx)(_.aL,{args:[.5],position:[0,2,0],children:(0,s.jsx)("meshStandardMaterial",{color:"#FFFFFF",emissive:"#FFFFFF",emissiveIntensity:1})}),(0,s.jsx)("group",{position:[0,2,0],children:Array.from({length:12},(e,t)=>{let r=.001*Date.now();return(0,s.jsx)(_.aL,{args:[.05],position:[Math.sin(t/12*Math.PI*2)*(2+.5*Math.sin(3*r+t)),2+.3*Math.sin(2*r+.5*t),Math.cos(t/12*Math.PI*2)*(2+.5*Math.cos(3*r+t))],children:(0,s.jsx)("meshStandardMaterial",{color:"#FFFACD",emissive:"#FFFACD",emissiveIntensity:.8})},t)})}),(0,s.jsx)("pointLight",{position:[0,4,0],intensity:3,color:"#FFD700"}),(0,s.jsx)("directionalLight",{position:[5,5,5],intensity:.5}),(0,s.jsx)("ambientLight",{intensity:.6})]})};var R=r(5127);let P=e=>{let{character:t,chapter:r}=e;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(i.E.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:2},children:[(0,s.jsx)("div",{className:"absolute top-0 left-1/4 w-px h-32 bg-gradient-to-b from-yellow-400/50 to-transparent animate-pulse"}),(0,s.jsx)("div",{className:"absolute top-0 right-1/3 w-px h-24 bg-gradient-to-b from-blue-400/30 to-transparent animate-pulse",style:{animationDelay:"1s"}}),(0,s.jsx)("div",{className:"absolute top-0 right-1/4 w-px h-40 bg-gradient-to-b from-purple-400/40 to-transparent animate-pulse",style:{animationDelay:"2s"}}),(0,s.jsx)("div",{className:"absolute inset-0",children:Array.from({length:12}).map((e,t)=>(0,s.jsx)(i.E.div,{className:"absolute w-1 h-1 bg-white/20 rounded-full",style:{left:"".concat(10+7*t,"%"),top:"".concat(20+t%4*15,"%")},animate:{y:[0,-20,0],opacity:[.2,.8,.2]},transition:{duration:3+.5*t,repeat:1/0,delay:.3*t}},t))}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-radial from-yellow-500/10 via-transparent to-transparent animate-pulse"})]}),(0,s.jsxs)(i.E.div,{className:"relative",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.5,ease:"easeInOut"},children:[(0,s.jsx)(C,{className:"rounded-lg overflow-hidden shadow-2xl",children:(0,s.jsx)(R.M,{mode:"wait",children:(0,s.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(()=>{switch(t){case"moses":return 1===r?(0,s.jsx)(F,{}):(0,s.jsx)(E,{});case"david":return 2===r?(0,s.jsx)(I,{}):(0,s.jsx)(A,{});case"jesus":return 5===r?(0,s.jsx)(G,{}):(0,s.jsx)(O,{});default:return(0,s.jsx)(F,{})}})()},"".concat(t,"-").concat(r))})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent pointer-events-none"}),(0,s.jsx)(i.E.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-900/20 to-blue-900/20 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1}}),(0,s.jsx)(i.E.div,{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at 20% 80%, rgba(251, 191, 36, 0.1) 0%, transparent 50%),\n                        radial-gradient(circle at 80% 20%, rgba(147, 51, 234, 0.08) 0%, transparent 50%)"},animate:{backgroundPosition:["0% 0%","10% 10%","0% 0%"]},transition:{duration:20,repeat:1/0,ease:"linear"}})]})]})},L=()=>{let{user:e}=(0,h.a)(),{gameState:t,startGame:r,updateScore:g}=(0,u.j)(),[x,f]=(0,a.useState)({currentCharacter:null,currentChapter:1,completedChapters:[],totalScore:0,faith:0,courage:0,obedience:0,gameCompleted:!1}),[y,j]=(0,a.useState)(null),[S,v]=(0,a.useState)(!0),[w,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{C(!0)},[]),(0,a.useEffect)(()=>{t.gameStarted&&!t.currentGame&&r("story")},[t.gameStarted,t.currentGame,r]);let M=t=>{let r=m[t];b.playAmbientMusic(t);let s=null;e&&(s=p.D.getStoryProgress(e.id,t)),s?f({currentCharacter:t,currentChapter:s.currentChapter,completedChapters:s.completedChapters,totalScore:s.totalScore,faith:s.faith,courage:s.courage,obedience:s.obedience,gameCompleted:s.completed}):f({currentCharacter:t,currentChapter:1,completedChapters:[],totalScore:0,faith:0,courage:0,obedience:0,gameCompleted:!1}),j(r),v(!1)},_=async t=>{b.playSoundEffect("choice");let r=x.totalScore+(t.score||0),s=x.faith+(t.faith||0),a=x.courage+(t.courage||0),i=x.obedience+(t.obedience||0);if(f(e=>({...e,totalScore:r,faith:s,courage:a,obedience:i,completedChapters:[...e.completedChapters,e.currentChapter],currentChapter:t.nextChapter||e.currentChapter+1,gameCompleted:null===t.nextChapter})),null===t.nextChapter&&setTimeout(()=>{b.playSoundEffect("victory")},500),e&&x.currentCharacter){let o={userId:e.id,character:x.currentCharacter,currentChapter:t.nextChapter||x.currentChapter+1,completedChapters:[...x.completedChapters,x.currentChapter],totalScore:r,faith:s,courage:a,obedience:i,completed:null===t.nextChapter};p.D.saveStoryProgress(o)}g(r)},N=()=>{j(null),f(e=>({...e,currentCharacter:null,currentChapter:1,completedChapters:[],totalScore:0,faith:0,courage:0,obedience:0,gameCompleted:!1})),v(!0)};if(!w)return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,s.jsx)("p",{children:"Loading story experience..."})]})});if(S)return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-4xl",children:[(0,s.jsxs)(i.E.div,{className:"text-center mb-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[(0,s.jsx)("h1",{className:"text-5xl font-bold font-serif mb-6",children:"Bible Character Stories"}),(0,s.jsx)("p",{className:"text-xl text-blue-100",children:"Walk in the footsteps of great biblical figures and learn their lessons"})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:Object.entries(m).map((e,t)=>{var r;let[a,o]=e;return(0,s.jsxs)(i.E.div,{className:"relative bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 cursor-pointer hover:bg-white/20 transition-all duration-300 overflow-hidden group focus-within:ring-2 focus-within:ring-yellow-400 focus-within:ring-offset-2",whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},onClick:()=>M(a),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),M(a))},tabIndex:0,role:"button","aria-label":"Select ".concat(o.name," story. ").concat(o.description,". ").concat(o.chapters.length," chapters available."),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-blue-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-xl border-2 border-transparent group-hover:border-yellow-400/50 transition-all duration-300 group-hover:shadow-lg group-hover:shadow-yellow-400/20"}),(0,s.jsxs)(i.E.div,{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold text-white shadow-lg relative",whileHover:{rotate:360,scale:1.1},transition:{duration:.6},children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.name.charAt(0)]}),(0,s.jsxs)("h3",{className:"text-2xl font-semibold mb-2 text-center group-hover:text-yellow-300 transition-colors relative",children:[o.name,(0,s.jsx)("div",{className:"absolute inset-0 text-yellow-300 opacity-0 group-hover:opacity-30 transition-opacity duration-300 blur-sm",children:o.name})]}),(0,s.jsx)("p",{className:"text-blue-100 text-sm mb-4 text-center leading-relaxed",children:o.description}),(0,s.jsxs)("div",{className:"flex justify-center space-x-4 mb-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"w-8 h-2 bg-red-900/50 rounded-full overflow-hidden mb-1 relative",children:[(0,s.jsx)(i.E.div,{className:"h-full bg-gradient-to-r from-red-400 to-red-500 rounded-full shadow-sm",initial:{width:0},animate:{width:"60%"},transition:{delay:.1*parseInt(a)+.5,duration:.8}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})]}),(0,s.jsx)("span",{className:"text-xs text-red-300 font-medium",children:"Faith"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"w-8 h-2 bg-blue-900/50 rounded-full overflow-hidden mb-1 relative",children:[(0,s.jsx)(i.E.div,{className:"h-full bg-gradient-to-r from-blue-400 to-blue-500 rounded-full shadow-sm",initial:{width:0},animate:{width:"75%"},transition:{delay:.1*parseInt(a)+.7,duration:.8}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})]}),(0,s.jsx)("span",{className:"text-xs text-blue-300 font-medium",children:"Courage"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"w-8 h-2 bg-green-900/50 rounded-full overflow-hidden mb-1 relative",children:[(0,s.jsx)(i.E.div,{className:"h-full bg-gradient-to-r from-green-400 to-green-500 rounded-full shadow-sm",initial:{width:0},animate:{width:"80%"},transition:{delay:.1*parseInt(a)+.9,duration:.8}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})]}),(0,s.jsx)("span",{className:"text-xs text-green-300 font-medium",children:"Obedience"})]})]}),(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsxs)("div",{className:"text-sm text-blue-200 font-medium",children:[o.chapters.length," Chapters • Interactive Adventure"]}),(0,s.jsxs)("div",{className:"text-xs text-purple-300 bg-purple-900/30 px-3 py-1 rounded-full inline-block border border-purple-400/30",children:["Based on ",(null===(r=o.chapters[0])||void 0===r?void 0:r.bibleReference)||"Biblical Stories"]})]}),(0,s.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",children:Array.from({length:8}).map((e,t)=>(0,s.jsx)(i.E.div,{className:"absolute w-1 h-1 bg-yellow-400 rounded-full",style:{left:"".concat(20+10*t,"%"),top:"".concat(30+t%3*20,"%")},animate:{y:[0,-10,0],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:.2*t}},t))})]},a)})})]})});if(x.gameCompleted&&y)return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:(0,s.jsx)("div",{className:"container mx-auto max-w-2xl",children:(0,s.jsxs)(i.E.div,{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20 text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[(0,s.jsx)(o.Z,{className:"w-16 h-16 text-yellow-400 mx-auto mb-6"}),(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Story Complete!"}),(0,s.jsxs)("p",{className:"text-xl mb-6",children:["You scored ",x.totalScore," points in ",y.name]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-purple-600/50 rounded-lg p-4",children:[(0,s.jsx)(n.Z,{className:"w-8 h-8 text-red-400 mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:x.faith}),(0,s.jsx)("div",{className:"text-sm text-purple-200",children:"Faith"})]}),(0,s.jsxs)("div",{className:"bg-blue-600/50 rounded-lg p-4",children:[(0,s.jsx)(l.Z,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:x.courage}),(0,s.jsx)("div",{className:"text-sm text-blue-200",children:"Courage"})]}),(0,s.jsxs)("div",{className:"bg-green-600/50 rounded-lg p-4",children:[(0,s.jsx)(c.Z,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:x.obedience}),(0,s.jsx)("div",{className:"text-sm text-green-200",children:"Obedience"})]})]}),(0,s.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,s.jsx)(i.E.button,{className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold flex items-center space-x-2",onClick:()=>{f(e=>({...e,currentChapter:1,completedChapters:[],totalScore:0,faith:0,courage:0,obedience:0,gameCompleted:!1}))},whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsx)("span",{children:"Play Again"})}),(0,s.jsxs)(i.E.button,{className:"bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg font-semibold flex items-center space-x-2",onClick:N,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)(d.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Choose Another"})]})]})]})})});if(!y)return null;let F=y.chapters.find(e=>e.id===x.currentChapter);return F?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-4xl",children:[(0,s.jsxs)(i.E.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[(0,s.jsxs)("button",{onClick:N,className:"flex items-center space-x-2 text-blue-300 hover:text-white transition-colors",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Choose Character"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:y.name}),(0,s.jsxs)("p",{className:"text-blue-200",children:["Chapter ",x.currentChapter," of ",y.chapters.length]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("div",{className:"text-sm text-blue-200",children:["Score: ",x.totalScore]})})]}),(0,s.jsx)(i.E.div,{className:"mb-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},children:(0,s.jsx)(P,{character:x.currentCharacter||"",chapter:x.currentChapter})}),(0,s.jsxs)(i.E.div,{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4",children:F.title}),(0,s.jsx)("p",{className:"text-lg mb-6 leading-relaxed",children:F.description}),(0,s.jsxs)("div",{className:"text-sm text-blue-200 mb-6",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 inline mr-2"}),F.bibleReference]})]}),(0,s.jsx)("div",{className:"space-y-4",children:F.choices.map((e,t)=>(0,s.jsxs)(i.E.button,{className:"w-full bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 hover:bg-white/20 transition-all duration-300 text-left",onClick:()=>_(e),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)("div",{className:"font-semibold mb-2",children:e.text}),(0,s.jsx)("div",{className:"text-sm text-blue-200",children:e.consequence}),(e.faith||e.courage||e.obedience)&&(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-4 text-xs",children:[e.faith&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-red-400",children:[(0,s.jsx)(n.Z,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:["+",e.faith," Faith"]})]}),e.courage&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-blue-400",children:[(0,s.jsx)(l.Z,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:["+",e.courage," Courage"]})]}),e.obedience&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-green-400",children:[(0,s.jsx)(c.Z,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:["+",e.obedience," Obedience"]})]})]})]},e.id))})]})}):null},T=()=>(0,s.jsx)("div",{children:(0,s.jsx)(L,{})})}}]);