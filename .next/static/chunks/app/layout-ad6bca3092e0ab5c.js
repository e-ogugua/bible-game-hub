(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2088:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4671,23)),Promise.resolve().then(r.t.bind(r,3275,23)),Promise.resolve().then(r.bind(r,9630)),Promise.resolve().then(r.bind(r,9854))},9630:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>i,a:()=>l});var s=r(7437),a=r(2265);let o=(0,a.createContext)(void 0),l=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},i=e=>{let{children:t}=e,[r,l]=(0,a.useState)(null),[i,n]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("bible_game_user_profile");if(e){let t=JSON.parse(e);l(t)}}catch(e){console.error("Failed to load user profile:",e)}finally{n(!1)}})()},[]);let u=async(e,t)=>{try{let r=JSON.parse(localStorage.getItem("bible_game_user_profiles")||"[]");if(r.some(t=>t.username.toLowerCase()===e.toLowerCase()))return{success:!1,error:"Username already taken"};let s={id:"user_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),username:e,email:t,xp:0,level:1,badges:[],createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};localStorage.setItem("bible_game_user_profile",JSON.stringify(s));let a=[...r,s];return localStorage.setItem("bible_game_user_profiles",JSON.stringify(a)),l(s),{success:!0}}catch(e){return{success:!1,error:"Failed to create account"}}},c=async e=>{try{let t=JSON.parse(localStorage.getItem("bible_game_user_profiles")||"[]"),r=t.find(t=>t.username.toLowerCase()===e.toLowerCase());if(!r)return{success:!1,error:"User not found"};let s={...r,lastLogin:new Date().toISOString()};localStorage.setItem("bible_game_user_profile",JSON.stringify(s));let a=t.map(e=>e.id===r.id?s:e);return localStorage.setItem("bible_game_user_profiles",JSON.stringify(a)),l(s),{success:!0}}catch(e){return{success:!1,error:"Failed to sign in"}}},g=async()=>{try{localStorage.removeItem("bible_game_user_profile"),l(null)}catch(e){console.error("Failed to sign out:",e)}},m=async e=>{if(!r)return{success:!1,error:"No user logged in"};try{let t={...r,...e,lastLogin:new Date().toISOString()};localStorage.setItem("bible_game_user_profile",JSON.stringify(t));let s=JSON.parse(localStorage.getItem("bible_game_user_profiles")||"[]").map(e=>e.id===r.id?t:e);return localStorage.setItem("bible_game_user_profiles",JSON.stringify(s)),l(t),{success:!0}}catch(e){return{success:!1,error:"Failed to update profile"}}},_=async()=>{if(r)try{["bible_game_scores","bible_game_story_progress","bible_game_daily_challenges"].forEach(e=>{let t=localStorage.getItem(e);if(t){let s=JSON.parse(t),a=Array.isArray(s)?s.filter(e=>e.userId!==r.id):s;localStorage.setItem(e,JSON.stringify(a))}});let e={...r,xp:0,level:1,badges:[],lastLogin:new Date().toISOString()};localStorage.setItem("bible_game_user_profile",JSON.stringify(e));let t=JSON.parse(localStorage.getItem("bible_game_user_profiles")||"[]").map(t=>t.id===r.id?e:t);localStorage.setItem("bible_game_user_profiles",JSON.stringify(t)),l(e)}catch(e){console.error("Failed to reset progress:",e)}};return(0,s.jsx)(o.Provider,{value:{user:r,loading:i,signUp:u,signIn:c,signOut:g,updateProfile:m,resetProgress:_},children:t})}},9854:(e,t,r)=>{"use strict";r.d(t,{GameProvider:()=>i,j:()=>l});var s=r(7437),a=r(2265);let o=(0,a.createContext)(void 0),l=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useGameContext must be used within a GameProvider");return e},i=e=>{let{children:t}=e,[r,l]=(0,a.useState)({currentGame:null,score:0,currentQuestion:0,gameStarted:!1,totalQuestions:0}),i=()=>5;return(0,s.jsx)(o.Provider,{value:{gameState:r,startGame:e=>{l({currentGame:e,score:0,currentQuestion:0,gameStarted:!0,totalQuestions:i()})},resetGame:()=>{l({currentGame:null,score:0,currentQuestion:0,gameStarted:!1,totalQuestions:0})},updateScore:e=>{l(t=>({...t,score:e}))},nextQuestion:()=>{l(e=>({...e,currentQuestion:Math.min(e.currentQuestion+1,e.totalQuestions-1)}))}},children:t})}},3275:()=>{},4671:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_f367f3"}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,130,215,744],()=>t(2088)),_N_E=e.O()}]);